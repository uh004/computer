# 다양한 입출력 방법

## 세 가지 입출력 방식:프로그램 입출력,인터럽트 기반 입출력,DMA 입출력

## 프로그램 입출력: CPU가 장치 컨트롤러의 레지스터 값을 읽고 씀으로써 이루어진다.
- 프로그램 속 명령어로 입출력장치를 제어하는 방법, 입출력 명령어로써 장치 컨트롤러와 상호작용
- 메모리에 저장된 정보를 하드 디스크에 백업(= 하드 디스크에 새로운 정보 쓰기)
### 메모리에 저장된 정보를 하드 디스크에 백업
1. CPU는 하드 디스크 컨트롤러의 제어 레지스터에 쓰기 명령 내보내기
2. 하드 디스크 컨트롤러는 하드 디스크 상태 확인 -> 상태 레지스터에 준비 완료 표시
3. CPU는 상태 레지스터를 주기적으로 읽어보며 하드 디스크의 준비 여부를 확인
4. 하드 디스크가 준비되었다면 백업할 메모리의 정보를 데이터 레지스터에 쓰기

## 프로그램 입출력 방식: 메모리 맵 입출력
- 메모리에 접근하기 위한 주소 공간과 입출력장치에 접근하기 위한 주소 공간을 하나의 주소 공간으로 간주하는 방법

## 프로그램 입출력 방식: 고립형 입출력
- 메모리를 위한 주소 공간과 입출력 장치를 위한 주소 공간을 분리하는 방법

|메모리 맵 입출력|고립형 입출력|
|:--:|:--:|
|메모리와 입출력장치는 같은 주소 공간 사용|메모리와 입출력장치는 분리된 주소 공간사용|
|메모리 주소 공간이 축소됨|메모리 주소 공간이 축소되지 않음|
|메모리와 입출력장치에 같은 명령어 사용 가능|입출력 전용 명령어 사용|

## 인터럽트 기반 입출력
- 하드웨어 인터럽트는 장치 컨트롤러에 의해 발생
- 동시다발적인 인터럽트: 입출력장치가 많을 때를 가정해보자 -> 인터럽트 발생 순서대로? -> 우선순위를 반영한 인터럽트
## PIC
1. 여러 장치 컨트롤러에 연결되어
2. 장치 컨트롤러의 하드웨어 인터럽트의 우선순위를 판단한 뒤
3. CPU에게 지금 처리해야 하는 인터럽트가 무엇인지 판단하는 하드웨어

## DMA 입출력
- CPU를 거치지 않고 입출력장치가 메모리에 직접적으로 접근하는 기능

## DMA 입출력 과정
1. CPU는 DMA 컨트롤러에 입출력 작업을 명령
2. DMA 컨트롤러는 CPU 대신 장치 컨트롤러와 상호작용하며 입출력 작업을 수행
3. 입출력 작업이 끝나면 DMA 컨트롤러는 인터럽트를 통해 CPU에 작업이 끝났음을 알림

## 입출력 버스
- 입출력 버스를 통해 시스템 버스의 이용 빈도 낮추기
